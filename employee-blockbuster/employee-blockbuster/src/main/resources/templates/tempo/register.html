<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Register - employee-blockbuster</title>
        <link href="css/styles.css" rel="stylesheet" />           
   <link th:rel="stylesheet" th:href="@{assets/password-strength-meter/password.min.css}"/>   
   <link th:rel="stylesheet" th:href="@{webjars/font-awesome/5.11.2/css/all.css} "/> 
   <script src="http://code.jquery.com/jquery-1.7.min.js"></script>
   <script src="script.js"></script>    
   </head>
    <body class="bg-primary">
        <div id="layoutAuthentication">
            <div id="layoutAuthentication_content">
                <main>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-7">
                                <div class="card shadow-lg border-0 rounded-lg mt-5">
                                    <div class="card-header"><h3 class="text-center font-weight-light my-4">Create Account</h3></div>
                                    <div class="card-body">                  
																		
									<div th:if="${session.message}" th:classappend="${session.message.type}" class="alert" role="alert">
										<p class="text-center" th:text="${session.message.content}"></p>
										<th:block th:text="${#session.removeAttribute('message')}"></th:block>								
									</div>								
									     <form  th:object="${user}" th:action="@{/createUser}" method="post">
                                            <div class="row mb-3">
											<div class="col-md-6">
												<div class="input-group">
													<div class="form-floating mb-3 mb-md-0 col-md-10">
														<input class="form-control" th:value="${user.firstName}"
															name=firstName
															th:classappend="${#fields.hasErrors('firstName')?'is-invalid':''}"
															id="firstName" type="text"
															placeholder="Enter your first name" /> 
														<label for="inputFirstName">First name</label>
													</div>
													<span class="input-group-text form-floating mb-3 mb-md-0  ">
													    <i class="fas fa-solid fa-user" aria-hidden="true"></i>
													</span>
												</div>
												<div class="invalid-feedback" 
												     th:each="e : ${#fields.errors('firstName')}" th:text="${e}">
											    </div>
											</div>
											<div class="col-md-6">
												<div class="input-group">
													<div class="form-floating mb-3 mb-md-0 col-md-10">
														<input class="form-control" th:value="${user.lastName}"
															name=lastName
															th:classappend="${#fields.hasErrors('lastName')?'is-invalid':''}"
															id="lastName" type="text"
															placeholder="Enter your last name" /> 
														<label for="inputLastName">Last name</label>
													</div>
													<span class="input-group-text form-floating mb-3 mb-md-0  ">
													     <i class="fas fa-solid fa-user" aria-hidden="true"></i>
													</span>
												</div>
												<div class="invalid-feedback"
													th:each="e : ${#fields.errors('lastName')}" th:text="${e}">
												</div>
											</div>
										</div>
										<div class="col-md-12 mb-3">
											<div class="input-group">
												<div class="form-floating mb-3 mb-md-0 col-md-11">
													<input class="form-control" th:value="${user.email}"
														name=email
														th:classappend="${#fields.hasErrors('email')?'is-invalid':''}"
														id="inputEmail" type="email"
														placeholder="name@example.com" /> 
													<label for="inputEmail">Email address</label>
												</div>
												<span class="input-group-text form-floating mb-3 mb-md-0 col-md-0">
												    <i class="fa fa-solid fa-envelope"></i>
											    </span>
											</div>
											<div class="invalid-feedback"
												th:each="e : ${#fields.errors('email')}" th:text="${e}">
											</div>
										</div>
										<div class="row mb-3">
											<div class="col-md-6">
												<div class="input-group" id="show_hide_password">
													<div class="form-floating mb-3 mb-md-0 col-md-10">
														<input class="form-control " th:value="${user.password}"
															name=password
															th:classappend="${#fields.hasErrors('password')?'is-invalid':''}"
															id="password" type="password"
															placeholder="Create a password" /> 
														<label for="inputPassword">Password</label>
											    	</div>
													<span class="input-group-text form-floating mb-3 mb-md-0 ">
													     <i	class="fa fa-eye-slash " aria-hidden="true"></i>
													</span>
												</div>
												<div class="invalid-feedback"
													th:each="e : ${#fields.errors('password')}" th:text="${e}">
												</div>
											</div>

											<!-- <div class="col-md-6">
                                                    <div class="input-group" id="show_hide_password">
                                                    <div class="form-floating mb-3 mb-md-0 col-md-10">
                                                        <input class="form-control" name="password" id="inputPasswordConfirm" type="password" placeholder="Confirm password" />
                                                        <label for="inputPasswordConfirm">Confirm Password</label>
                                                    </div>
                                                    <span class="input-group-text form-floating mb-3 mb-md-0"><i class="fa fa-eye-slash" aria-hidden="true"></i></span>																							      													   
                                                    </div>
                                                </div> -->
										</div>
										<div class="from-group from-check text-center">
											<input type="checkbox" name="agreement"	class="from-check-input" id="agreement" /> 
											<label for="agreement">Accept terms and conditions</label>
										</div>
										<div class="mt-4 mb-0">
											<div class="d-grid">
												<input type="submit" id="btnTest" class="btn btn-primary" value="Sign up">
											</div>											
										</div>
									</form>
                                    </div>
                                    <div class="card-footer text-center py-3">
                                        <div class="small"><a th:href="@{/signin}">Have an account? Go to login</a></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
            <div id="layoutAuthentication_footer">
                <footer class="py-4 bg-light mt-auto">
                    <div class="container-fluid px-4">
                        <div class="d-flex align-items-center justify-content-between small">
                            <div class="text-muted">Copyright &copy; Your Website 2023</div>
                            <div>
                                <a href="#">Privacy Policy</a>
                                &middot;
                                <a href="#">Terms &amp; Conditions</a>
                            </div>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
        
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"crossorigin="anonymous">
	</script>
	<script src="js/scripts.js"></script>		
	
	<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
	<script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
	<script th:src="@{assets/password-strength-meter/password.min.js}"></script>
	
	<script >
		$("#password").password({
			closestSelector : '.form-group',
			shortPass : 'The password is too short',
			badPass : 'Weak; try combining letters & numbers',
			goodPass : 'Medium; try using special characters',
			strongPass : 'Strong password',
			containsField : 'The password contains your username',
			enterPass : 'Type your password',
			showPercent : false,
			showText : true, // shows the text tips
			animate : true, // whether or not to animate the progress bar on input blur/focus
			animateSpeed : 'fast', // the above animation speed
			field : false, // select the match field (selector or jQuery instance) for better password checks
			fieldPartialMatch : true, // whether to check for partials in field
			minimumLength : 4
		// minimum password length (below this threshold, the score is 0)
		});
	</script>

	<script>
		var input = $("#show_hide_password input");
		var icon = $("#show_hide_password i");

		icon.on('click', function(event) {
			event.preventDefault();

			if (input.attr("type") === "text") {
				input.attr('type', 'password');
				icon.addClass("fa-eye-slash");
				icon.removeClass("fa-eye");

			} else if (input.attr("type") === "password") {
				input.attr('type', 'text');
				icon.removeClass("fa-eye-slash");
				icon.addClass("fa-eye");
			}
		});
	</script>
	
</body>
</html>
